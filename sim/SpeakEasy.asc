Version 4
SHEET 1 4176 680
WIRE 2960 -1232 2912 -1232
WIRE 3280 -1216 3232 -1216
WIRE 2240 -1184 2128 -1184
WIRE 2384 -1184 2240 -1184
WIRE 2128 -1168 2128 -1184
WIRE 2240 -1168 2240 -1184
WIRE 2912 -1152 2912 -1232
WIRE 2944 -1152 2912 -1152
WIRE 3024 -1152 3024 -1232
WIRE 3696 -1152 3648 -1152
WIRE 3232 -1136 3232 -1216
WIRE 3264 -1136 3232 -1136
WIRE 3344 -1136 3344 -1216
WIRE 3584 -1136 3520 -1136
WIRE -416 -1104 -416 -1184
WIRE -416 -1104 -448 -1104
WIRE -400 -1104 -416 -1104
WIRE -336 -1088 -336 -1184
WIRE -208 -1088 -336 -1088
WIRE 176 -1088 144 -1088
WIRE 272 -1088 256 -1088
WIRE -400 -1072 -416 -1072
WIRE 272 -1072 272 -1088
WIRE 416 -1072 336 -1072
WIRE 928 -1072 592 -1072
WIRE 992 -1072 928 -1072
WIRE 1312 -1072 1168 -1072
WIRE 1760 -1072 1616 -1072
WIRE 1888 -1072 1840 -1072
WIRE 1984 -1072 1888 -1072
WIRE 2080 -1072 2064 -1072
WIRE 2128 -1072 2128 -1104
WIRE 2128 -1072 2080 -1072
WIRE 2144 -1072 2128 -1072
WIRE 2240 -1072 2240 -1088
WIRE 2240 -1072 2208 -1072
WIRE 2272 -1072 2240 -1072
WIRE -416 -1056 -416 -1072
WIRE 2080 -1056 2080 -1072
WIRE 2384 -1056 2384 -1184
WIRE 2384 -1056 2336 -1056
WIRE 2576 -1056 2384 -1056
WIRE 2704 -1056 2576 -1056
WIRE 2800 -1056 2784 -1056
WIRE 2912 -1056 2912 -1152
WIRE 2912 -1056 2864 -1056
WIRE 2944 -1056 2912 -1056
WIRE 3520 -1056 3520 -1136
WIRE 2272 -1040 2240 -1040
WIRE 3024 -1040 3024 -1152
WIRE 3024 -1040 3008 -1040
WIRE 3232 -1040 3232 -1136
WIRE 3264 -1040 3232 -1040
WIRE 144 -1024 144 -1088
WIRE 160 -1024 144 -1024
WIRE 2240 -1024 2240 -1040
WIRE 2944 -1024 2912 -1024
WIRE 3344 -1024 3344 -1136
WIRE 3344 -1024 3328 -1024
WIRE 272 -1008 272 -1072
WIRE 272 -1008 224 -1008
WIRE 2912 -1008 2912 -1024
WIRE 3264 -1008 3232 -1008
WIRE -64 -992 -96 -992
WIRE 160 -992 16 -992
WIRE 3232 -992 3232 -1008
WIRE 1888 -960 1888 -1008
WIRE 2080 -960 2080 -976
WIRE 2080 -960 1888 -960
WIRE 3520 -960 3520 -976
WIRE 2080 -944 2080 -960
WIRE 3360 -912 3264 -912
WIRE 3520 -912 3424 -912
WIRE 3856 -880 3840 -880
WIRE 3952 -880 3856 -880
WIRE 3472 -864 3344 -864
WIRE -608 -848 -848 -848
WIRE 4144 -848 4048 -848
WIRE -400 -816 -464 -816
WIRE -352 -816 -400 -816
WIRE 4048 -816 4048 -848
WIRE 4064 -816 4048 -816
WIRE 3856 -800 3856 -880
WIRE 3872 -800 3856 -800
WIRE 4144 -800 4144 -848
WIRE 4144 -800 4128 -800
WIRE -848 -784 -848 -848
WIRE -608 -784 -688 -784
WIRE 3344 -784 3344 -864
WIRE 3376 -784 3344 -784
WIRE 3952 -784 3952 -880
WIRE 3952 -784 3936 -784
WIRE 4064 -784 3952 -784
WIRE 3472 -768 3472 -864
WIRE 3472 -768 3440 -768
WIRE 3520 -768 3520 -912
WIRE 3520 -768 3472 -768
WIRE 3568 -768 3520 -768
WIRE 3648 -768 3632 -768
WIRE 3664 -768 3648 -768
WIRE 3760 -768 3760 -880
WIRE 3760 -768 3728 -768
WIRE 3840 -768 3824 -768
WIRE 3872 -768 3840 -768
WIRE 3024 -752 3024 -1040
WIRE 3136 -752 3104 -752
WIRE 3184 -752 3136 -752
WIRE 3264 -752 3264 -912
WIRE 3360 -752 3344 -752
WIRE 3376 -752 3360 -752
WIRE 3648 -736 3648 -768
WIRE 3840 -736 3840 -768
WIRE 3360 -720 3360 -752
WIRE 832 -688 720 -688
WIRE 976 -688 832 -688
WIRE 720 -672 720 -688
WIRE 832 -672 832 -688
WIRE 3136 -656 3136 -688
WIRE 3248 -656 3136 -656
WIRE 3360 -656 3248 -656
WIRE 3744 -656 3648 -656
WIRE 3840 -656 3744 -656
WIRE 3744 -640 3744 -656
WIRE 3248 -624 3248 -656
WIRE 336 -576 128 -576
WIRE 576 -576 400 -576
WIRE 672 -576 656 -576
WIRE 720 -576 720 -608
WIRE 720 -576 672 -576
WIRE 736 -576 720 -576
WIRE 832 -576 832 -592
WIRE 832 -576 800 -576
WIRE 864 -576 832 -576
WIRE -400 -560 -480 -560
WIRE 336 -560 288 -560
WIRE 672 -560 672 -576
WIRE 976 -560 976 -688
WIRE 976 -560 928 -560
WIRE 864 -544 832 -544
WIRE -624 -528 -704 -528
WIRE 832 -528 832 -544
WIRE 128 -496 128 -576
WIRE 672 -448 672 -480
WIRE 128 -400 128 -416
WIRE -736 -128 -816 -128
WIRE -656 -128 -736 -128
WIRE -576 -128 -656 -128
WIRE -480 -128 -576 -128
WIRE -368 -128 -480 -128
WIRE -256 -128 -368 -128
WIRE -176 -128 -256 -128
WIRE -96 -128 -176 -128
WIRE -16 -128 -32 -128
WIRE 64 -128 -16 -128
FLAG -576 -128 0
FLAG -576 -208 +2.5V
FLAG -480 -208 -2.5V
FLAG -736 -208 audio
FLAG -688 -784 audio
FLAG -656 -208 +5V
FLAG -608 -752 0
FLAG -848 -704 0
FLAG -400 -816 fmpre
FLAG -368 -208 +12V
FLAG -256 -208 data
FLAG -176 -208 mod
FLAG -96 -208 datasim
FLAG 128 -400 0
FLAG 288 -560 datasim
FLAG 976 -560 ook
FLAG -624 -496 0
FLAG -848 -848 +1V
FLAG -624 -592 +1V
FLAG -704 -528 datasim
FLAG -400 -560 dataam
FLAG 1616 -1072 recv
FLAG 2240 -1024 0
FLAG 2080 -944 0
FLAG -416 -1056 0
FLAG 928 -1152 Noise
FLAG -16 -128 0
FLAG -16 -208 120VAC
FLAG 64 -208 Noise
FLAG 2576 -1056 dataout
FLAG -528 -1104 dataam
FLAG -96 -992 ook
FLAG 64 -1072 +5V
FLAG 928 -992 120VAC
FLAG 1312 -1072 recv
FLAG 272 -928 0
FLAG 2304 -1024 0
FLAG 2304 -1088 +5V
FLAG 992 -432 +2.5V
FLAG 672 -448 0
FLAG 896 -528 0
FLAG 896 -592 +5V
FLAG 832 -528 0
FLAG 2912 -1008 0
FLAG 3952 -784 !d1
FLAG 4144 -800 d1
FLAG 3344 -1024 d2
FLAG 3520 -960 0
FLAG 3248 -624 0
FLAG 3744 -640 0
FLAG 3088 -1040 !d1
FLAG 3232 -992 0
FLAG 3584 -1168 +comp
FLAG -816 -208 +comp
FLAG 3616 -1184 +5V
FLAG 3616 -1120 0
SYMBOL voltage -576 -224 R0
WINDOW 3 24 44 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value 2.5
SYMATTR InstName V5
SYMBOL voltage -480 -224 R0
WINDOW 3 24 44 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value -2.5
SYMATTR InstName V6
SYMBOL voltage -736 -224 R0
WINDOW 3 -10 115 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value SINE(.5 .5 20k)
SYMATTR InstName V7
SYMBOL voltage -656 -224 R0
WINDOW 3 24 44 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value 5
SYMATTR InstName V3
SYMBOL SpecialFunctions\\modulate -608 -848 R0
WINDOW 3 -181 126 Left 2
SYMATTR Value mark=2meg space=.1K
SYMATTR InstName A1
SYMBOL voltage -848 -800 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 1
SYMBOL voltage -368 -224 R0
WINDOW 3 24 44 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value 12
SYMATTR InstName V8
SYMBOL cap 336 -1088 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 -41 -8 VTop 2
SYMATTR InstName C3
SYMATTR Value 10µ
SYMBOL voltage -256 -224 R0
WINDOW 3 -177 126 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 5 0 .1u .1u 5u 10u)
SYMATTR InstName V1
SYMBOL res 912 -1088 R0
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL voltage -176 -224 R0
WINDOW 3 -40 164 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 5 0 0 0 15u 30u)
SYMATTR InstName V2
SYMBOL bv -96 -224 R0
WINDOW 3 -36 129 Left 2
SYMATTR Value V=V(data)*V(mod)/5
SYMATTR InstName B1
SYMBOL voltage 128 -512 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 -354 104 Left 2
SYMATTR Value PULSE(0 5 0 0 0 .25u .5u)
SYMATTR InstName V11
SYMBOL Digital\\and 368 -624 R0
WINDOW 3 0 0 Invisible 0
SYMATTR Value Vhigh=5 Vlow=0
SYMATTR InstName A2
SYMBOL SpecialFunctions\\modulate -624 -592 R0
WINDOW 3 -181 126 Left 2
SYMATTR Value mark=2meg space=.1K
SYMATTR InstName A3
SYMBOL res 2224 -1184 R0
WINDOW 3 32 20 Left 2
SYMATTR InstName R19
SYMATTR Value 27k
SYMBOL res 2080 -1088 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R20
SYMATTR Value 5.1k
SYMBOL cap 2112 -1168 R0
WINDOW 3 39 32 Left 2
SYMATTR Value 1.5p
SYMATTR InstName C15
SYMBOL cap 2208 -1088 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C16
SYMATTR Value 47p
SYMBOL res 2064 -1072 R0
SYMATTR InstName R21
SYMATTR Value 8.2k
SYMBOL Opamps\\opamp -368 -1152 R0
SYMATTR InstName U10
SYMBOL res -432 -1120 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R27
SYMATTR Value 1k
SYMBOL res -320 -1200 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R28
SYMATTR Value 2k
SYMBOL res 912 -1168 R0
SYMATTR InstName R22
SYMATTR Value 1k
SYMBOL voltage -16 -224 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 44 Left 2
WINDOW 3 -123 198 Left 2
SYMATTR Value SINE(0 170 60)
SYMATTR InstName V10
SYMBOL bv 64 -224 R0
WINDOW 3 -6 108 Left 2
SYMATTR Value V=(white(20e3*time)/.1)
SYMATTR InstName B2
SYMBOL res 1856 -1088 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R23
SYMATTR Value 330
SYMBOL cap 1872 -1072 R0
SYMATTR InstName C8
SYMATTR Value 10p
SYMBOL Opamps\\opamp 192 -1072 R0
SYMATTR InstName U4
SYMATTR SpiceLine Aol=10Meg
SYMATTR SpiceLine2 GBW=100Meg
SYMBOL res 272 -1104 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 0
SYMBOL res 32 -1008 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 2.2k
SYMBOL Coupling_Block 496 -1072 R0
SYMATTR InstName X1
SYMBOL Coupling_Block 1088 -1072 R180
SYMATTR InstName X2
SYMBOL res 256 -1024 R0
SYMATTR InstName R8
SYMATTR Value 2.2k
SYMBOL Opamps\\opamp 2304 -1120 R0
SYMATTR InstName U1
SYMATTR SpiceLine Aol=10Meg
SYMATTR SpiceLine2 GBW=100Meg
SYMBOL res 816 -688 R0
WINDOW 3 32 20 Left 2
SYMATTR InstName R9
SYMATTR Value 9.1k
SYMBOL res 672 -592 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 4.3k
SYMBOL cap 704 -672 R0
WINDOW 3 39 32 Left 2
SYMATTR Value 4.7p
SYMATTR InstName C1
SYMBOL cap 800 -592 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 47p
SYMBOL res 656 -576 R0
SYMATTR InstName R12
SYMATTR Value 11k
SYMBOL Opamps\\opamp 896 -624 R0
SYMATTR InstName U5
SYMATTR SpiceLine Aol=10Meg
SYMATTR SpiceLine2 GBW=100Meg
SYMBOL cap 2864 -1072 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 1n
SYMBOL res 2800 -1072 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 1k
SYMBOL res 3040 -1168 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 12.5k
SYMBOL cap 3024 -1248 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value .1n
SYMBOL Opamps\\opamp 2976 -1104 R0
SYMATTR InstName U2
SYMATTR SpiceLine Aol=10Meg
SYMATTR SpiceLine2 GBW=100Meg
SYMBOL Opamps\\opamp 3408 -832 R0
SYMATTR InstName U3
SYMATTR SpiceLine Aol=10Meg
SYMATTR SpiceLine2 GBW=100Meg
SYMBOL cap 3232 -1056 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C6
SYMATTR Value 1n
SYMBOL res 3184 -1056 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 1k
SYMBOL res 3360 -1152 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 12.5k
SYMBOL cap 3344 -1232 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C7
SYMATTR Value .1n
SYMBOL Opamps\\opamp 3296 -1088 R0
SYMATTR InstName U6
SYMATTR SpiceLine Aol=10Meg
SYMATTR SpiceLine2 GBW=100Meg
SYMBOL bv 3520 -1072 R0
WINDOW 3 -6 108 Left 2
SYMATTR Value V=(pow(V(d2),2) + pow(V(!d1),2))*3
SYMATTR InstName B3
SYMBOL res 3120 -768 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 13k
SYMBOL cap 3120 -752 R0
SYMATTR InstName C9
SYMATTR Value 6.8p
SYMBOL res 3168 -736 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R6
SYMATTR Value 120k
SYMBOL res 3248 -736 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R14
SYMATTR Value 39k
SYMBOL cap 3344 -720 R0
SYMATTR InstName C10
SYMATTR Value .47p
SYMBOL cap 3424 -928 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C11
SYMATTR Value 3.3p
SYMBOL cap 3632 -784 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C12
SYMATTR Value 15p
SYMBOL cap 3728 -784 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C13
SYMATTR Value 1.5p
SYMBOL cap 3824 -784 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C14
SYMATTR Value 1.5p
SYMBOL res 3824 -752 R0
SYMATTR InstName R15
SYMATTR Value 110k
SYMBOL res 3856 -896 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R16
SYMATTR Value 24k
SYMBOL res 3632 -752 R0
SYMATTR InstName R17
SYMATTR Value 4.7k
SYMBOL Opamps\\opamp 3904 -848 R0
SYMATTR InstName U7
SYMATTR SpiceLine Aol=10Meg
SYMATTR SpiceLine2 GBW=100Meg
SYMBOL voltage -816 -224 R0
WINDOW 3 24 44 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value 1
SYMATTR InstName V9
SYMBOL Opamps\\AD8091 3616 -1216 R0
SYMATTR InstName U9
SYMBOL Opamps\\opamp 4096 -864 R0
SYMATTR InstName U8
SYMATTR SpiceLine Aol=10Meg
SYMATTR SpiceLine2 GBW=100Meg
TEXT -920 -104 Left 2 !.tran 90u
TEXT 176 -616 Left 2 ;OOK Circuit
TEXT 224 -680 Left 2 ;High Pass To get to SIN wave for OOK
TEXT -928 -80 Left 2 !.lib opamp.sub
TEXT 2408 -1168 Left 2 ;Digital Data
TEXT 304 -416 Left 2 ;Problems:\n1. Amplifying 100Meg signals for demodulation\n2. differential vs non driving opamp pros cons? \n3. Lower Frequency carrier easier to couple. (L of signal trans?)\n4. simulating demodulation, not working? \n5. simulating Log amplifier
